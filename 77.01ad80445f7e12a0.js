"use strict";(self.webpackChunksakai=self.webpackChunksakai||[]).push([[77],{24077:(D,T,i)=>{i.r(T),i.d(T,{CustomerModule:()=>se});var u=i(69808),h=i(93075),p=i(98952),Z=i(88205),b=i(40845),m=i(25787),C=i(17773),a=i(44534),d=i(98018),_=i(31424),c=i(73407),w=i(14036),E=i(49603),P=i(7010),M=i(15315),y=i(51122),A=i(59783),S=i(44930),J=i(94327),e=i(5e3),f=i(54004),F=i(92340),I=i(81637),R=i(40520);let g=`${I.Z.DEFAULT_URLS.API}/Customers`,N=(()=>{class n{constructor(t){this.http=t}getCustomersSmall(){return this.http.get("assets/demo/data/customers-small.json").toPromise().then(t=>t.data).then(t=>t)}getCustomersMedium(){return this.http.get("assets/demo/data/customers-medium.json").toPromise().then(t=>t.data).then(t=>t)}getCustomersLarge(){return this.http.get("assets/demo/data/customers-large.json").toPromise().then(t=>t.data).then(t=>t)}getPagingCustomer(t){return this.http.get(`${g}`,{params:t}).pipe((0,f.U)(s=>s))}getAllCustomer(){return this.http.get(`${g}/list`,{}).pipe((0,f.U)(t=>t))}getCustomerDetail(t){return this.http.get(`${g}/${t}`,{}).pipe((0,f.U)(o=>o))}createCustomer(t){return this.http.post(`${g}`,t).pipe((0,f.U)(o=>o))}updateCustomer(t,s){return console.log(t),this.http.put(`${g}/${s}`,t).pipe((0,f.U)(r=>r))}deleteCustomer(t){return this.http.delete(`${g}/${t}`,{}).pipe((0,f.U)(o=>o))}deleteMultipleCustomer(t){return this.http.put(`${g}/multiple`,t).pipe()}getExcelReport(t){return this.http.get(`${g}/export-excel-customer`,{}).pipe((0,f.U)(o=>o))}getFolderPathDownload(t,s){return F.N.serverURL+`/ReportDownload/DownloadReportFromFile?filename=${t}&fileType=${s}`}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(R.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function q(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openNew())}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedcustomers())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.selectedcustomers||!t.selectedcustomers.length)}}function z(n,l){if(1&n){const t=e.EpF();e._UZ(0,"p-fileUpload",21),e.TgZ(1,"button",22),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(8);return e.KtG(o.exportCSV())}),e.qZA(),e.TgZ(2,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportExcel())}),e.qZA(),e.TgZ(3,"button",24),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.exportPdf())}),e.qZA(),e.TgZ(4,"button",25),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(8);return e.KtG(o.exportCSV({selectionOnly:!0}))}),e.qZA()}2&n&&e.Q6J("maxFileSize",1e6)}function H(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"h5",27),e._uU(2,"Customer management"),e.qZA(),e.TgZ(3,"span",28),e._UZ(4,"i",29),e.TgZ(5,"input",30),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.getParams.searchText=o)})("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getCustomers())}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.getParams.searchText)}}function B(n,l){1&n&&(e.TgZ(0,"tr")(1,"th",31),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",32),e._uU(4,"Customer code"),e._UZ(5,"p-sortIcon",33),e.qZA(),e.TgZ(6,"th",34),e._uU(7,"Customer name"),e._UZ(8,"p-sortIcon",35),e.qZA(),e.TgZ(9,"th",36),e._uU(10,"Phone"),e._UZ(11,"p-sortIcon",37),e.qZA(),e.TgZ(12,"th",38),e._uU(13,"Email"),e._UZ(14,"p-sortIcon",39),e.qZA(),e.TgZ(15,"th",40),e._uU(16,"Address"),e._UZ(17,"p-sortIcon",41),e.qZA(),e._UZ(18,"th",42),e.qZA())}function k(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",43),e.qZA(),e.TgZ(3,"td",42)(4,"span",44),e._uU(5,"Customer code"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",42)(8,"span",44),e._uU(9,"Customer name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",42)(12,"span",44),e._uU(13,"Phone"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td",42)(16,"span",44),e._uU(17,"Email"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td",42)(20,"span",44),e._uU(21,"Address"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"td",42)(24,"div",45)(25,"button",46),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw();return e.KtG(x.editcustomer(r))}),e.qZA(),e.TgZ(26,"button",47),e.NdJ("click",function(){const r=e.CHM(t).$implicit,x=e.oxw();return e.KtG(x.deletecustomer(r))}),e.qZA()()()()}if(2&n){const t=l.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.customerCode," "),e.xp6(4),e.hij(" ",t.customerName," "),e.xp6(4),e.hij(" ",t.phone," "),e.xp6(4),e.hij(" ",t.email," "),e.xp6(4),e.hij(" ",t.address," ")}}function K(n,l){1&n&&(e.TgZ(0,"small",60),e._uU(1,"Customer code is required."),e.qZA())}function G(n,l){1&n&&(e.TgZ(0,"small",60),e._uU(1,"Customer name is required."),e.qZA())}function O(n,l){1&n&&(e.TgZ(0,"small",60),e._uU(1,"Phone is required."),e.qZA())}function Y(n,l){1&n&&(e.TgZ(0,"small",60),e._uU(1,"Address is required."),e.qZA())}const v=function(n){return{"ng-invalid ng-dirty":n}};function j(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",48)(1,"label",49),e._uU(2,"Customer code"),e.qZA(),e.TgZ(3,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.customer.customerCode=o)}),e.qZA(),e.YNc(4,K,2,0,"small",51),e.qZA(),e.TgZ(5,"div",48)(6,"label",52),e._uU(7,"Customer name"),e.qZA(),e.TgZ(8,"input",53),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.customer.customerName=o)}),e.qZA(),e.YNc(9,G,2,0,"small",51),e.qZA(),e.TgZ(10,"div",48)(11,"label",54),e._uU(12,"Phone"),e.qZA(),e.TgZ(13,"input",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.customer.phone=o)}),e.qZA(),e.YNc(14,O,2,0,"small",51),e.qZA(),e.TgZ(15,"div",48)(16,"label",56),e._uU(17,"Email"),e.qZA(),e.TgZ(18,"input",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.customer.email=o)}),e.qZA(),e.YNc(19,Y,2,0,"small",51),e.qZA(),e.TgZ(20,"div",48)(21,"label",58),e._uU(22,"Address"),e.qZA(),e.TgZ(23,"textarea",59),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.customer.address=o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.customer.customerCode)("ngClass",e.VKq(13,v,t.submitted&&!t.customer.customerCode)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.customer.customerCode),e.xp6(4),e.Q6J("ngModel",t.customer.customerName)("ngClass",e.VKq(15,v,t.submitted&&!t.customer.customerName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.customer.customerName),e.xp6(4),e.Q6J("ngModel",t.customer.phone)("ngClass",e.VKq(17,v,t.submitted&&!t.customer.phone)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.customer.phone),e.xp6(4),e.Q6J("ngModel",t.customer.email)("ngClass",e.VKq(19,v,t.submitted&&!t.customer.email)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.customer.email),e.xp6(4),e.Q6J("ngModel",t.customer.address)}}function L(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.qZA(),e.TgZ(1,"button",62),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveCustomer())}),e.qZA()}}function Q(n,l){if(1&n&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.customer.customerCode)}}function $(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteCustomerDialog=!1)}),e.qZA(),e.TgZ(1,"button",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete())}),e.qZA()}}function V(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteCustomersDialog=!1)}),e.qZA(),e.TgZ(1,"button",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}const X=function(){return["customerCode","customerName","phone","email","address"]},W=function(){return[5,10,20]},ee=function(){return{width:"50rem"}},U=function(){return{width:"450px"}};let te=(()=>{class n{constructor(t,s){this.customerService=t,this.messageService=s,this.customerDialog=!1,this.deleteCustomerDialog=!1,this.deleteCustomersDialog=!1,this.customers=[],this.customer={},this.selectedcustomers=[],this.submitted=!1,this.cols=[],this.rowsPerPageOptions=[5,10,20],this.loading=!1,this.getParams={page:0,pageSize:5,sortField:"id",isSort:!0,searchText:""},this.lstCustomers=[],this.totalRecords=0,this.totalPages=0,this.first=0}ngOnInit(){this.cols=[{field:"customerCode",header:"Customer code"},{field:"customerName",header:"Customer name"},{field:"phone",header:"Phone"},{field:"email",header:"Email"},{field:"address",header:"Address"}]}getCustomers(t,s=!1){this.pendingRequest&&this.pendingRequest.unsubscribe(),this.loading=!0,t&&(console.log(t),this.getParams.page=t.first/t.rows,this.getParams.pageSize=t.rows+1,this.getParams.sortField=t.sortField,this.getParams.isSort=1===t.sortOrder),s&&this.customerService.getExcelReport(this.getParams).subscribe(o=>{S.Z.scrollToTop(),this.openDownloadFile(o.data,"excel")}),Object.keys(this.getParams).forEach(o=>null==this.getParams[o]&&delete this.getParams[o]),this.pendingRequest=this.customerService.getPagingCustomer(this.getParams).subscribe(o=>{S.Z.scrollToTop(),this.lstCustomers=o.data,this.totalRecords=o.totalItems||0,this.totalPages=o.totalItems/o.pageSize,console.log(this.lstCustomers),this.loading=!1})}openDownloadFile(t,s){try{var o=this.customerService.getFolderPathDownload(t,s);o&&window.open(o)}catch(r){this.messageService.add({severity:"error",summary:"Error Message",detail:"File invalid"})}}openNew(){this.customer={},this.submitted=!1,this.customerDialog=!0}deleteSelectedcustomers(){this.deleteCustomersDialog=!0}editcustomer(t){this.customer=Object.assign({},t),this.customerDialog=!0}deletecustomer(t){this.deleteCustomerDialog=!0,this.customer=Object.assign({},t)}confirmDeleteSelected(){this.customerService.deleteMultipleCustomer(this.selectedcustomers.map(t=>t.id)).subscribe(()=>{this.deleteCustomersDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"customers Deleted",life:3e3}),this.selectedcustomers=[],this.getCustomers()})}confirmDelete(){this.customerService.deleteCustomer(this.customer.id).subscribe(t=>{this.deleteCustomerDialog=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"customer Deleted",life:3e3}),this.customer={},this.getCustomers()})}hideDialog(){this.customerDialog=!1,this.submitted=!1,this.customer={},this.getCustomers()}saveCustomer(){this.submitted=!0,console.log(this.customer),this.customer.id?this.customerService.updateCustomer(this.customer,this.customer.id).subscribe(t=>{console.log(t),this.messageService.add({severity:"success",summary:"Successful",detail:"Customer Updated",life:3e3}),this.hideDialog()}):(this.customer.id=0,this.customer.customerCode=this.createId(),this.customerService.createCustomer(this.customer).subscribe(t=>{console.log(t),this.messageService.add({severity:"success",summary:"Successful",detail:"Customer Created",life:3e3}),this.hideDialog()}))}findIndexById(t){let s=-1;for(let o=0;o<this.customers.length;o++)if(this.customers[o].id===t){s=o;break}return s}createId(){let t="";const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let o=0;o<6;o++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}onGlobalFilter(t,s){t.filterGlobal(s.target.value,"contains")}exportPdf(){i.e(583).then(i.bind(i,53583)).then(t=>{Promise.all([i.e(583),i.e(983)]).then(i.t.bind(i,12983,23)).then(s=>{const o=new t.default;o.autoTable(this.cols,this.customers),o.save("customers.pdf")})})}exportExcel(){i.e(247).then(i.bind(i,80574)).then(t=>{const o={Sheets:{data:t.utils.json_to_sheet(this.customers)},SheetNames:["data"]},r=t.write(o,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(r,"customers")})}saveAsExcelFile(t,s){const x=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});J.saveAs(x,s+"_export_"+(new Date).getTime()+".xlsx")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N),e.Y36(A.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],features:[e._Bn([A.ez])],decls:26,vars:30,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","first","lazy","totalRecords","selection","rowHover","firstChange","onLazyLoad","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Customer Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Delete","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help","mr-2",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-file-excel","pTooltip","XLS","tooltipPosition","bottom",1,"p-button-success","mr-2",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-file-pdf","pTooltip","PDF","tooltipPosition","bottom",1,"p-button-warning","mr-2",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-filter","pTooltip","Selection Only","tooltipPosition","bottom",1,"p-button-info","ml-auto",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"ngModel","ngModelChange","change"],[2,"width","3rem"],["pSortableColumn","customerCode",1,"w-2"],["field","customerCode"],["pSortableColumn","customerName",1,"w-2"],["field","customerName"],["pSortableColumn","phone",1,"w-2"],["field","phone"],["pSortableColumn","email",1,"w-2"],["field","email"],["pSortableColumn","address",1,"w-2"],["field","address"],[1,"w-2"],[3,"value"],[1,"p-column-title"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],[1,"field"],["for","customerCode"],["type","text","pInputText","","id","customerCode","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","customerName"],["type","text","pInputText","","id","customerName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","phone"],["type","text","pInputText","","id","phone","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","email"],["type","text","pInputText","","id","email","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["for","address"],["id","address","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"p-toolbar",3),e.YNc(5,q,3,1,"ng-template",4),e.YNc(6,z,5,1,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6,7),e.NdJ("firstChange",function(r){return s.first=r})("onLazyLoad",function(r){return s.getCustomers(r)})("selectionChange",function(r){return s.selectedcustomers=r}),e.YNc(9,H,6,1,"ng-template",8),e.YNc(10,B,19,0,"ng-template",9),e.YNc(11,k,27,6,"ng-template",10),e.qZA()(),e.TgZ(12,"p-dialog",11),e.NdJ("visibleChange",function(r){return s.customerDialog=r}),e.YNc(13,j,24,21,"ng-template",12),e.YNc(14,L,2,0,"ng-template",13),e.qZA(),e.TgZ(15,"p-dialog",14),e.NdJ("visibleChange",function(r){return s.deleteCustomerDialog=r}),e.TgZ(16,"div",15),e._UZ(17,"i",16),e.YNc(18,Q,5,1,"span",17),e.qZA(),e.YNc(19,$,2,0,"ng-template",13),e.qZA(),e.TgZ(20,"p-dialog",14),e.NdJ("visibleChange",function(r){return s.deleteCustomersDialog=r}),e.TgZ(21,"div",15),e._UZ(22,"i",16),e.TgZ(23,"span"),e._uU(24,"Are you sure you want to delete selected customers?"),e.qZA()(),e.YNc(25,V,2,0,"ng-template",13),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("value",s.lstCustomers)("columns",s.cols)("rows",10)("globalFilterFields",e.DdM(25,X))("paginator",!0)("rowsPerPageOptions",e.DdM(26,W))("showCurrentPageReport",!0)("first",s.first)("lazy",!0)("totalRecords",s.totalRecords)("selection",s.selectedcustomers)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(27,ee)),e.Q6J("visible",s.customerDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(28,U)),e.Q6J("visible",s.deleteCustomerDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",s.customer),e.xp6(2),e.Akn(e.DdM(29,U)),e.Q6J("visible",s.deleteCustomersDialog)("modal",!0))},dependencies:[u.mk,u.O5,p.iA,A.jx,p.lQ,p.fz,p.UA,p.Mo,Z.p,b.Hq,h.Fj,h.JJ,h.Q7,h.On,m.H,C.FN,a.o,_.o,c.g,M.V],encapsulation:2}),n})(),oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[y.Bz.forChild([{path:"",component:te}]),y.Bz]}),n})(),se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[N],imports:[u.ez,oe,p.U$,Z.O,h.u5,b.hJ,m.T,C.EV,a.V,d.Xt,_.j,c.A,w.kW,E.cc,P.L$,M.S]}),n})()},73407:(D,T,i)=>{i.d(T,{A:()=>b,g:()=>Z});var u=i(5e3),h=i(69808),p=i(93075);let Z=(()=>{class m{constructor(a,d,_,c){this.el=a,this.ngModel=d,this.control=_,this.cd=c,this.onResize=new u.vpe}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(a){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(a){this.autoResize&&this.resize(a)}onBlur(a){this.autoResize&&this.resize(a)}resize(a){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(a||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}}return m.\u0275fac=function(a){return new(a||m)(u.Y36(u.SBq),u.Y36(p.On,8),u.Y36(p.a5,8),u.Y36(u.sBO))},m.\u0275dir=u.lG2({type:m,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(a,d){1&a&&u.NdJ("input",function(c){return d.onInput(c)})("focus",function(c){return d.onFocus(c)})("blur",function(c){return d.onBlur(c)}),2&a&&u.ekj("p-filled",d.filled)("p-inputtextarea-resizable",d.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}}),m})(),b=(()=>{class m{}return m.\u0275fac=function(a){return new(a||m)},m.\u0275mod=u.oAB({type:m}),m.\u0275inj=u.cJS({imports:[h.ez]}),m})()}}]);