"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[1445],{1445:(Q,A,o)=>{o.r(A),o.d(A,{IngredientModule:()=>G});var Z=o(6814),s=o(6223),x=o(9241),h=o(5219),N=o(8645),f=o(9773),u=o(5118),d=o(7398),L=o(8860),t=o(8109),I=o(9862);let b=(()=>{class e{constructor(n){this.http=n,this.baseUrl=L.N.serverURL+"thanhphan"}list(){return this.http.get(this.baseUrl).pipe((0,d.U)(n=>n?.data?.length?n?.data:[]))}add(n){return this.http.post(this.baseUrl,n).pipe((0,d.U)(i=>i))}edit(n,i){return this.http.put(`${this.baseUrl}/${i}`,n).pipe((0,d.U)(a=>a))}delete(n){return this.http.delete(`${this.baseUrl}/${n}`).pipe((0,d.U)(i=>i))}static#t=this.\u0275fac=function(i){return new(i||e)(t.LFG(I.eN))};static#n=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var T=o(3714),U=o(6218),m=o(707),g=o(4480),p=o(3999);function E(e,c){1&e&&(t.ynx(0),t.TgZ(1,"small",12),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"WARNING.MA_THANH_PHAN_TRONG")," "))}function y(e,c){1&e&&(t.ynx(0),t.TgZ(1,"small",12),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"WARNING.TEN_THANH_PHAN_TRONG")," "))}let S=(()=>{class e{constructor(n,i,a){this.fb=n,this.dialogRef=i,this.baseService$=a,this.config=(0,t.f3M)(u.S),this.submitted=!1,this.unsubscribe=new N.x,this._baseData=this.config.data,this.form=this.fb.group({maThanhPhan:new s.NI("",[s.kI.required]),tenThanhPhan:new s.NI("",[s.kI.required])})}ngOnInit(){["edit","info"].includes(this._baseData.mode)&&this.form.patchValue({maThanhPhan:this._baseData.data.maThanhPhan,tenThanhPhan:this._baseData.data.tenThanhPhan})}onSubmit(){this.submitted=!0,!this.form.invalid&&("add"===this._baseData.mode?this.baseService$.add(this.form.value):this.baseService$.edit(this.form.value,this._baseData.data.id)).pipe((0,f.R)(this.unsubscribe)).subscribe({next:n=>{n&&this.dialogRef.close({isSuccess:!0})}})}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(s.qu),t.Y36(u.E7),t.Y36(b))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-ingredient-form"]],standalone:!0,features:[t.jDz],decls:20,vars:23,consts:[[3,"formGroup"],[1,"p-fluid","p-formgrid","grid","m-0"],[1,"p-float-label","field","col-12","md:col-6","pr-1"],["pInputText","","id","code","formControlName","maThanhPhan","type","text"],["for","code",1,"require-label"],[4,"ngIf"],[1,"p-float-label","field","col-12","md:col-6","pl-1"],["pInputText","","id","name","type","text","formControlName","tenThanhPhan"],["for","name",1,"require-label"],[1,"flex","justify-content-end","gap-2"],["pButton","","pRipple","","type","button",1,"p-button-outlined",3,"label","click"],["pButton","","pRipple","","type","button",3,"label","click"],[1,"p-error"]],template:function(i,a){1&i&&(t.TgZ(0,"form",0)(1,"div",1)(2,"span",2),t._UZ(3,"input",3),t.TgZ(4,"label",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,E,4,3,"ng-container",5),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.TgZ(10,"label",8),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.YNc(13,y,4,3,"ng-container",5),t.qZA()(),t._UZ(14,"hr"),t.TgZ(15,"div",9)(16,"button",10),t.NdJ("click",function(){return a.dialogRef.close()}),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"button",11),t.NdJ("click",function(){return a.onSubmit()}),t.ALo(19,"translate"),t.qZA()()()),2&i&&(t.Q6J("formGroup",a.form),t.xp6(3),t.ekj("ng-invalid",a.submitted&&a.form.get("maThanhPhan").invalid)("ng-dirty",a.submitted&&a.form.get("maThanhPhan").invalid),t.xp6(2),t.Oqu(t.lcZ(6,15,"LABEL.MA_THANH_PHAN")),t.xp6(2),t.Q6J("ngIf",a.submitted&&a.form.get("maThanhPhan").invalid),t.xp6(2),t.ekj("ng-invalid",a.submitted&&a.form.get("tenThanhPhan").invalid)("ng-dirty",a.submitted&&a.form.get("tenThanhPhan").invalid),t.xp6(2),t.Oqu(t.lcZ(12,17,"LABEL.TEN_THANH_PHAN")),t.xp6(2),t.Q6J("ngIf",a.submitted&&a.form.get("tenThanhPhan").invalid),t.xp6(3),t.Q6J("label",t.lcZ(17,19,"BUTTON.CANCEL")),t.xp6(2),t.Q6J("label",t.lcZ(19,21,"BUTTON.SAVE")))},dependencies:[T.j,T.o,U.A,m.hJ,m.Hq,s.u5,s._Y,s.Fj,s.JJ,s.JL,s.UX,s.sg,s.u,g.T,g.H,Z.O5,p.aw,p.X$],encapsulation:2})}return e})();var H=o(3859),v=o(9552),C=o(3904);function B(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"div",7)(1,"h2"),t._uU(2,"Danh s\xe1ch \u0111\u1ed1i t\u01b0\u1ee3ng"),t.qZA(),t.TgZ(3,"button",8),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.onManage("add","LABEL.ADD"))}),t.qZA()()}}function D(e,c){1&e&&(t.TgZ(0,"tr")(1,"th",9),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",10),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",11),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",12),t._uU(11),t.ALo(12,"translate"),t.qZA()()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,4,"LABEL.ID")," "),t.xp6(3),t.hij(" ",t.lcZ(6,6,"LABEL.MA_THANH_PHAN")," "),t.xp6(3),t.hij(" ",t.lcZ(9,8,"LABEL.TEN_THANH_PHAN")," "),t.xp6(3),t.hij(" ",t.lcZ(12,10,"LABEL.ACTION")," "))}function P(e,c){if(1&e){const n=t.EpF();t.TgZ(0,"tr")(1,"td",13),t._uU(2),t.qZA(),t.TgZ(3,"td",10),t._uU(4),t.qZA(),t.TgZ(5,"td",11),t._uU(6),t.qZA(),t.TgZ(7,"td",14)(8,"div",15)(9,"button",16),t.NdJ("click",function(){const r=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.onManage("edit","LABEL.EDIT",r))}),t.qZA(),t.TgZ(10,"button",17),t.NdJ("click",function(){const r=t.CHM(n).$implicit,l=t.oxw();return t.KtG(l.onDelete(r))}),t.qZA()()()()}if(2&e){const n=c.$implicit;t.xp6(2),t.hij(" ",n.id," "),t.xp6(2),t.Oqu(n.maThanhPhan),t.xp6(2),t.Oqu(n.tenThanhPhan)}}let F=(()=>{class e{constructor(n,i,a,r,l){this.baseService$=n,this.confirmationService=i,this.translateService=a,this.dialogService=r,this.layoutService$=l,this.isMobile=!1,this.data=[],this.unsubscribe=new N.x}ngOnInit(){this.isMobile=this.layoutService$.isMobile(),this.initData()}initData(){this.baseService$.list().pipe((0,f.R)(this.unsubscribe)).subscribe(n=>{this.data=n})}onManage(n,i,a){this.dialogService.open(S,{data:{mode:n,data:a},header:this.translateService.instant(i),width:"50vw",maximizable:!0}).onClose.subscribe(l=>{l?.isSuccess&&this.initData()})}onDelete(n){this.confirmationService.confirm({message:this.translateService.instant("INFO.ARE_YOUR_SURE_DELETE_RECORD"),header:this.translateService.instant("LABEL.CONFIRM"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translateService.instant("BUTTON.ACCEPT"),rejectLabel:this.translateService.instant("BUTTON.CANCEL"),accept:()=>this.doDelete(n)})}doDelete(n){this.baseService$.delete(n.id).pipe((0,f.R)(this.unsubscribe)).subscribe({next:i=>{i&&this.initData()}})}ngOnDestroy(){this.unsubscribe.next({}),this.unsubscribe.complete()}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(b),t.Y36(h.YP),t.Y36(p.sK),t.Y36(u.xA),t.Y36(H.P))};static#n=this.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],features:[t._Bn([h.ez,h.YP,b,u.xA])],decls:8,vars:3,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["scrollHeight","400px","styleClass","mt-3 sidebar-custom",3,"value","scrollable","responsiveLayout"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-between"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-rounded","p-button-success",3,"click"],["pFrozenColumn","",2,"width","50px"],[2,"width","200px"],[2,"width","auto"],["pFrozenColumn","","alignFrozen","right",2,"width","100px"],["pFrozenColumn","",1,"font-bold",2,"width","50px"],["pFrozenColumn","","alignFrozen","right",1,"font-bold",2,"width","100px"],[1,"flex","gap-2"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-warning",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p-table",3),t.YNc(4,B,4,0,"ng-template",4)(5,D,13,12,"ng-template",5)(6,P,11,3,"ng-template",6),t.qZA()()()(),t._UZ(7,"p-confirmDialog")),2&i&&(t.xp6(3),t.Q6J("value",a.data)("scrollable",!0)("responsiveLayout",a.isMobile?"stack":"scroll"))},dependencies:[v.iA,h.jx,v.on,m.Hq,g.H,C.Q,p.X$],encapsulation:2})}return e})(),R=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[x.Bz.forChild([{path:"",component:F}]),x.Bz]})}return e})();var j=o(6804),J=o(4055),O=o(3965),M=o(6651),$=o(4104),Y=o(7902),z=o(6022);let G=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#n=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[Z.ez,R,s.u5,v.U$,z.Xt,m.hJ,Y.JH,T.j,j.KZ,g.T,J.q4,O.kW,M.q,$.EV,C.D,p.aw]})}return e})()}}]);