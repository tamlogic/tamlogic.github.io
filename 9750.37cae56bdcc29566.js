"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[9750],{9750:(J,g,e)=>{e.r(g),e.d(g,{ManagerModule:()=>H});var Z=e(6814),C=e(6223),m=e(9241),r=e(5219),L=e(8645),d=e(9773),h=e(5118),v=e(819),b=e(4451),t=e(8109),c=e(3999),M=e(3859),p=e(9552),A=e(707),x=e(3714),T=e(4480),f=e(3904);function E(i,u){if(1&i){const n=t.EpF();t.TgZ(0,"div",7)(1,"div",8)(2,"span",9),t._UZ(3,"i",10),t.TgZ(4,"input",11),t.NdJ("keyup.enter",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.initData())}),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"h2",12),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"button",13),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.onManage("add","LABEL.ADD"))}),t.qZA()()}2&i&&(t.xp6(4),t.Q6J("placeholder",t.lcZ(5,2,"LABEL.SEARCH_TEXT")),t.xp6(3),t.Oqu(t.lcZ(8,4,"LABEL.ACCOUNT_LIST")))}function S(i,u){1&i&&(t.TgZ(0,"tr")(1,"th",14),t._uU(2,"ID"),t.qZA(),t.TgZ(3,"th",15),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th",15),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th",15),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th",16),t._uU(13),t.ALo(14,"translate"),t.qZA()()),2&i&&(t.xp6(4),t.hij(" ",t.lcZ(5,4,"LABEL.SIGNAL_NUMBER")," "),t.xp6(3),t.hij(" ",t.lcZ(8,6,"LABEL.TYPE")," "),t.xp6(3),t.hij(" ",t.lcZ(11,8,"LABEL.ACCOUNT_NAME")," "),t.xp6(3),t.hij(" ",t.lcZ(14,10,"LABEL.ACTION")," "))}function B(i,u){if(1&i){const n=t.EpF();t.TgZ(0,"tr")(1,"td",17),t._uU(2),t.qZA(),t.TgZ(3,"td",15),t._uU(4),t.qZA(),t.TgZ(5,"td",15),t._uU(6),t.qZA(),t.TgZ(7,"td",18),t._uU(8),t.qZA(),t.TgZ(9,"td",19)(10,"div",20)(11,"button",21),t.NdJ("click",function(){const l=t.CHM(n).$implicit,s=t.oxw();return t.KtG(s.onManage("edit","LABEL.EDIT",l))}),t.qZA(),t.TgZ(12,"button",22),t.NdJ("click",function(){const l=t.CHM(n).$implicit,s=t.oxw();return t.KtG(s.onDelete(l))}),t.qZA()()()()}if(2&i){const n=u.$implicit;t.xp6(2),t.hij(" ",n.id," "),t.xp6(2),t.hij(" ",null==n?null:n.soHieu," "),t.xp6(2),t.Oqu(null==n?null:n.loai),t.xp6(2),t.Oqu(null==n?null:n.tenTaiKhoan)}}let U=(()=>{class i{constructor(n,a,o,l,s){this.baseService$=n,this.confirmationService=a,this.translateService=o,this.dialogService=l,this.layoutService$=s,this.isMobile=!1,this.data=[],this.unsubscribe=new L.x}ngOnInit(){this.isMobile=this.layoutService$.isMobile(),this.initData()}initData(){this.baseService$.list().pipe((0,d.R)(this.unsubscribe)).subscribe(n=>{this.data=n})}onManage(n,a,o){this.dialogService.open(b.g,{data:{mode:n,data:o},header:this.translateService.instant(a),width:"50vw",maximizable:!0}).onClose.subscribe(s=>{s?.isSuccess&&this.initData()})}onDelete(n){this.confirmationService.confirm({message:this.translateService.instant("INFO.ARE_YOUR_SURE_DELETE_RECORD"),header:this.translateService.instant("LABEL.CONFIRM"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translateService.instant("BUTTON.ACCEPT"),rejectLabel:this.translateService.instant("BUTTON.CANCEL"),accept:()=>this.doDelete(n)})}doDelete(n){this.baseService$.delete(n.id).pipe((0,d.R)(this.unsubscribe)).subscribe({next:a=>{a&&this.initData()}})}ngOnDestroy(){this.unsubscribe.next({}),this.unsubscribe.complete()}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(v.B),t.Y36(r.YP),t.Y36(c.sK),t.Y36(h.xA),t.Y36(M.P))};static#n=this.\u0275cmp=t.Xpm({type:i,selectors:[["ng-component"]],features:[t._Bn([r.ez,r.YP,v.B,h.xA])],decls:8,vars:3,consts:[[1,"grid"],[1,"col-12"],[1,"card"],["scrollHeight","400px","styleClass","mt-3 sidebar-custom",3,"value","scrollable","responsiveLayout"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-between"],[1,"flex","align-items-center","gap-4"],[1,"p-input-icon-left","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full",3,"placeholder","keyup.enter"],[1,"m-0"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-rounded","p-button-success",3,"click"],["pFrozenColumn","",2,"width","50px"],[2,"width","200px"],["pFrozenColumn","","alignFrozen","right",2,"width","100px"],["pFrozenColumn","",1,"font-bold",2,"width","50px"],[2,"width","auto"],["pFrozenColumn","","alignFrozen","right",1,"font-bold",2,"width","100px"],[1,"flex","gap-2"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-warning",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"]],template:function(a,o){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p-table",3),t.YNc(4,E,10,6,"ng-template",4)(5,S,15,12,"ng-template",5)(6,B,13,4,"ng-template",6),t.qZA()()()(),t._UZ(7,"p-confirmDialog")),2&a&&(t.xp6(3),t.Q6J("value",o.data)("scrollable",!0)("responsiveLayout",o.isMobile?"stack":"scroll"))},dependencies:[p.iA,r.jx,p.on,A.Hq,x.o,T.H,f.Q,c.X$],encapsulation:2})}return i})(),y=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#n=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[m.Bz.forChild([{path:"",component:U}]),m.Bz]})}return i})();var D=e(6804),N=e(4055),O=e(3965),R=e(6651),j=e(4104),F=e(7902),z=e(6022);let H=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#n=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[Z.ez,y,C.u5,p.U$,z.Xt,A.hJ,F.JH,x.j,D.KZ,T.T,N.q4,O.kW,R.q,j.EV,f.D,c.aw]})}return i})()}}]);