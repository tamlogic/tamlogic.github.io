"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[2738],{1869:(I,L,l)=>{l.r(L),l.d(L,{BasicLendingModule:()=>gt});var r=l(6814),o=l(6223),b=l(9241),g=l(5219),c=l(8645),A=l(9773),f=l(4716),u=l(5118),p=l(7398),D=l(8860),t=l(8109),P=l(9862);let E=(()=>{class a{constructor(e){this.http=e,this.baseUrl=D.N.serverURL+"dotvay",this.managerUrl=D.N.serverURL+"nguoiquanly"}listManager(){return this.http.get(this.managerUrl).pipe((0,p.U)(e=>e?.data?.length?e?.data:[]))}paging(e){return this.http.post(this.baseUrl+"/listDotVay_Proc",e).pipe((0,p.U)(i=>i))}add(e){return this.http.post(this.baseUrl,e).pipe((0,p.U)(i=>i))}edit(e,i){return this.http.put(`${this.baseUrl}/${i}`,e).pipe((0,p.U)(n=>n))}delete(e){return this.http.delete(`${this.baseUrl}/${e}`).pipe((0,p.U)(i=>i))}static#t=this.\u0275fac=function(i){return new(i||a)(t.LFG(P.eN))};static#e=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var U=l(5399),H=l(7544),_=l(3714),x=l(6218),T=l(707),Z=l(4480),v=l(3965),h=l(3999),N=l(7791),C=l(9552),q=l(1865),J=l(8998),B=l(3859);function w(a,d){if(1&a){const e=t.EpF();t.TgZ(0,"span",5),t._UZ(1,"i",6),t.TgZ(2,"input",7,8),t.NdJ("input",function(n){t.CHM(e);const s=t.oxw(),m=t.MAs(1);return t.KtG(s.onGlobalFilter(m,n))}),t.ALo(4,"translate"),t.qZA()()}2&a&&(t.xp6(2),t.Q6J("placeholder",t.lcZ(4,1,"LABEL.SEARCH_TEXT")))}function F(a,d){1&a&&(t.TgZ(0,"tr"),t._UZ(1,"th",9),t.TgZ(2,"th",10),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"th",11),t._uU(6),t.ALo(7,"translate"),t.qZA()()),2&a&&(t.xp6(3),t.hij(" ",t.lcZ(4,2,"LABEL.LOCAL_UNIT_CODE")," "),t.xp6(3),t.hij(" ",t.lcZ(7,4,"LABEL.LOCAL_UNIT_NAME")," "))}function j(a,d){if(1&a&&(t.TgZ(0,"tr")(1,"td",9),t._UZ(2,"p-tableRadioButton",12),t.qZA(),t.TgZ(3,"td",10),t._uU(4),t.qZA(),t.TgZ(5,"td",11),t._uU(6),t.qZA()()),2&a){const e=d.$implicit;t.xp6(2),t.Q6J("value",e),t.xp6(2),t.Oqu(e.maCum),t.xp6(2),t.Oqu(e.tenCum)}}const Q=()=>["maCum","tenCum"];let G=(()=>{class a{constructor(e,i){this.baseService$=e,this.layoutService$=i,this.isMobile=!1,this.data=[],this.selectedData=void 0,this.unsubscribe=new c.x,this.onReload=new t.vpe}get getValue(){return this.selectedData}ngOnInit(){this.isMobile=this.layoutService$.isMobile(),this.initData()}initData(){this.baseService$.list().pipe((0,A.R)(this.unsubscribe)).subscribe(e=>{this.data=e})}onGlobalFilter(e,i){e.filterGlobal(i.target.value,"contains")}ngOnDestroy(){this.unsubscribe.next({}),this.unsubscribe.complete()}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(J.u),t.Y36(B.P))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-local-unit-search"]],outputs:{onReload:"onReload"},standalone:!0,features:[t._Bn([g.ez,g.YP,u.xA]),t.jDz],decls:5,vars:6,consts:[[3,"value","selection","scrollable","responsiveLayout","globalFilterFields","selectionChange"],["localUnitTable",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full",3,"placeholder","input"],["filter",""],[2,"width","100px"],[2,"width","200px"],[2,"width","auto"],[3,"value"]],template:function(i,n){1&i&&(t.TgZ(0,"p-table",0,1),t.NdJ("selectionChange",function(m){return n.selectedData=m})("selectionChange",function(){return n.onReload.emit()}),t.YNc(2,w,5,3,"ng-template",2)(3,F,8,6,"ng-template",3)(4,j,7,3,"ng-template",4),t.qZA()),2&i&&t.Q6J("value",n.data)("selection",n.selectedData)("scrollable",!0)("responsiveLayout",n.isMobile?"stack":"scroll")("globalFilterFields",t.DdM(5,Q))},dependencies:[h.aw,h.X$,C.U$,C.iA,g.jx,C.GE,_.j,_.o,q.cc,o.u5],styles:["[_nghost-%COMP%]     .p-datatable .p-datatable-header{padding:.5rem}[_nghost-%COMP%]     .p-datatable>.p-datatable-wrapper{max-height:480px}"]})}return a})();var y=l(4738),$=l(6235);function Y(a,d){1&a&&(t.ynx(0),t.TgZ(1,"small",21),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"WARNING.BRANCH_NAME_REQUIRED")))}function V(a,d){1&a&&(t.ynx(0),t.TgZ(1,"small",21),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&a&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"WARNING.PROJECT_NAME_REQUIRED")," "))}let z=(()=>{class a{constructor(e,i,n,s){this.fb=e,this.dialogRef=i,this.baseService$=n,this.branchService$=s,this.config=(0,t.f3M)(u.S),this.submitted=!1,this.unsubscribe=new c.x,this.branches=[],this._baseData=this.config.data,this.form=this.fb.group({CHINHANH_ID:new o.NI("",[o.kI.required]),maDuAn:new o.NI("",[o.kI.required,o.kI.pattern(U.Z.PATTERNS.NO_SPACE_AND_UNICODE_UTF8)]),tenDuAn:new o.NI("",[o.kI.required])})}ngOnInit(){this.getListBranch(),["edit","info"].includes(this._baseData.mode)&&this.form.patchValue({CHINHANH_ID:this._baseData.data.chinhanH_ID,maDuAn:this._baseData.data.maDuAn,tenDuAn:this._baseData.data.tenDuAn})}getListBranch(){this.branchService$.list().pipe((0,A.R)(this.unsubscribe)).subscribe(e=>{this.branches=e})}onSubmit(){this.submitted=!0,!this.form.invalid&&("add"===this._baseData.mode?this.baseService$.add(this.form.value):this.baseService$.edit(this.form.value,this._baseData.data.id)).pipe((0,A.R)(this.unsubscribe)).subscribe({next:e=>{e&&this.dialogRef.close({isSuccess:!0})}})}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(o.qu),t.Y36(u.E7),t.Y36(y.Y),t.Y36($.b))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-basic-lending-form"]],standalone:!0,features:[t.jDz],decls:34,vars:30,consts:[[3,"formGroup"],[1,"grid","formgrid","m-0"],[1,"field","col-12","md:col-6","pr-1","flex","flex-column"],[1,"p-float-label","field"],["id","drpChiNhanh","optionLabel","tenChiNhanh","optionValue","id","formControlName","CHINHANH_ID","appendTo","body",1,"w-full",3,"options"],["for","drpChiNhanh",1,"require-label"],[4,"ngIf"],[1,"field","col-12","md:col-6","pl-1"],[3,"legend"],[1,"p-formgrid","grid","m-0"],[1,"p-float-label","field","col-12"],["pInputText","","id","maDuAn","formControlName","maDuAn","type","text"],["for","maDuAn"],[1,"field","col-12","md-col-6"],[1,"col-12","md-col-6"],[1,"p-float-label","field","col-12","md:col-6","pl-1"],["pInputText","","id","tenDuAn","type","text","formControlName","tenDuAn"],["for","tenDuAn",1,"require-label"],[1,"flex","justify-content-end","gap-2"],["pButton","","pRipple","","type","button",1,"p-button-outlined",3,"label","click"],["pButton","","pRipple","","type","button",3,"label","click"],[1,"p-error"]],template:function(i,n){1&i&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"span",3),t._UZ(4,"p-dropdown",4),t.TgZ(5,"label",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,Y,4,3,"ng-container",6),t.qZA()(),t.TgZ(9,"div",7)(10,"p-fieldset",8),t.ALo(11,"translate"),t.TgZ(12,"div",9)(13,"div",10),t._UZ(14,"input",11),t.TgZ(15,"label",12),t._uU(16),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"div",13),t._uU(19," b "),t.qZA(),t.TgZ(20,"div",14),t._uU(21," b "),t.qZA()()()(),t.TgZ(22,"div",15),t._UZ(23,"input",16),t.TgZ(24,"label",17),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.YNc(27,V,4,3,"ng-container",6),t.qZA()(),t._UZ(28,"hr"),t.TgZ(29,"div",18)(30,"button",19),t.NdJ("click",function(){return n.dialogRef.close()}),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"button",20),t.NdJ("click",function(){return n.onSubmit()}),t.ALo(33,"translate"),t.qZA()()()),2&i&&(t.Q6J("formGroup",n.form),t.xp6(4),t.ekj("ng-invalid",n.submitted&&n.form.get("CHINHANH_ID").invalid)("ng-dirty",n.submitted&&n.form.get("CHINHANH_ID").invalid),t.Q6J("options",n.branches),t.xp6(2),t.Oqu(t.lcZ(7,18,"LABEL.BRANCH_NAME")),t.xp6(2),t.Q6J("ngIf",n.submitted&&n.form.get("CHINHANH_ID").invalid),t.xp6(2),t.Q6J("legend",t.lcZ(11,20,"LABEL.SELECT_LENDING_INFO")),t.xp6(6),t.Oqu(t.lcZ(17,22,"LABEL.TITLE")),t.xp6(7),t.ekj("ng-invalid",n.submitted&&n.form.get("tenDuAn").invalid)("ng-dirty",n.submitted&&n.form.get("tenDuAn").invalid),t.xp6(2),t.Oqu(t.lcZ(26,24,"LABEL.PROJECT_NAME")),t.xp6(2),t.Q6J("ngIf",n.submitted&&n.form.get("tenDuAn").invalid),t.xp6(3),t.Q6J("label",t.lcZ(31,26,"BUTTON.CANCEL")),t.xp6(2),t.Q6J("label",t.lcZ(33,28,"BUTTON.SAVE")))},dependencies:[_.j,_.o,x.A,T.hJ,T.Hq,o.u5,o._Y,o.Fj,o.JJ,o.JL,o.UX,o.sg,o.u,Z.T,Z.H,r.O5,v.kW,v.Lt,h.aw,h.X$,N.L,N.p],encapsulation:2})}return a})();var k=l(84);const K=["localUnitSearchComponent"];function X(a,d){1&a&&(t.ynx(0),t.TgZ(1,"small",25),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"WARNING.INGREDIENT_NAME_REQUIRED")))}function W(a,d){1&a&&(t.ynx(0),t.TgZ(1,"small",25),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"WARNING.PROJECT_NAME_REQUIRED")))}function tt(a,d){1&a&&(t.TgZ(0,"small",25),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&a&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"WARNING.LOCAL_UNIT_NAME_REQUIRED")))}let et=(()=>{class a{constructor(e,i,n,s,m,mt){this.fb=e,this.dialogRef=i,this.translateService=n,this.dialogService=s,this.projectService$=m,this.ingredientService$=mt,this.unsubscribe=new c.x,this.projects=[],this.ingredients=[],this.submitted=!1,this.localUnit=void 0}ngOnInit(){this.form=this.fb.group({THANHPHAN_ID:new o.NI("",[o.kI.required]),CUM_ID:new o.NI("",[o.kI.required]),DUAN_ID:new o.NI("",[o.kI.required]),PARENT_ID:new o.NI(0),SoVong:new o.NI(0),soDot:new o.NI(0),TieuDe:new o.NI(""),dotVayTruoc:new o.NI({value:"",disabled:!0})}),this.getListIngredient(),this.getListProject()}getListIngredient(){this.ingredientService$.list().pipe((0,A.R)(this.unsubscribe)).subscribe(e=>{this.ingredients=e})}getListProject(){this.projectService$.list().pipe((0,A.R)(this.unsubscribe)).subscribe(e=>{this.projects=e})}reloadLocalUnit(){this.localUnit=this.localUnitSearchComponent.getValue,this.form.patchValue({CUM_ID:this.localUnit?.id||0})}onContinue(){this.submitted=!0,!this.form.invalid&&this.localUnit&&(this.dialogRef.close({isSuccess:!0}),this.dialogService.open(z,{data:{data:this.form.value},header:this.translateService.instant("title"),width:"90vw",maximizable:!0}))}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(o.qu),t.Y36(u.E7),t.Y36(h.sK),t.Y36(u.xA),t.Y36(y.Y),t.Y36(k.r))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(i,n){if(1&i&&t.Gf(K,5),2&i){let s;t.iGM(s=t.CRH())&&(n.localUnitSearchComponent=s.first)}},standalone:!0,features:[t.jDz],decls:52,vars:46,consts:[[3,"formGroup"],[1,"grid","formgrid","m-0"],[1,"field","col-12","md:col-6","pr-1","flex","flex-column"],[1,"p-float-label","field","mt-0"],["id","drpIngredient","optionLabel","tenThanhPhan","optionValue","id","formControlName","THANHPHAN_ID","appendTo","body",1,"w-full",3,"options","autoDisplayFirst"],["for","drpIngredient",1,"require-label"],[4,"ngIf"],[1,"p-float-label","field"],["id","drpProject","optionLabel","tenDuAn","optionValue","id","formControlName","DUAN_ID","appendTo","body",1,"w-full",3,"options","autoDisplayFirst"],["for","drpProject",1,"require-label"],[1,"field"],[3,"legend"],[1,"p-formgrid","grid","m-0"],[1,"p-float-label","field","col-12"],["pInputText","","id","tieuDe","formControlName","TieuDe","type","text"],["for","tieuDe"],[1,"p-float-label","field","col-12","md:col-6","pr-1"],["pInputText","","id","SoVong","formControlName","SoVong","type","text"],["for","SoVong"],[1,"p-float-label","field","col-12","md:col-6","pl-1"],["pInputText","","id","soDot","formControlName","soDot","type","text"],["for","soDot"],[1,"p-float-label","field","col-12","md:col-12"],["pInputText","","id","dotVayTruoc","formControlName","dotVayTruoc","type","text"],["for","dotVayTruoc"],[1,"p-error"],[1,"col-12","md:col-6","pl-1"],["class","p-error",4,"ngIf"],[3,"onReload"],["localUnitSearchComponent",""],[1,"flex","justify-content-end","gap-2"],["pButton","","pRipple","","type","button",1,"p-button-outlined",3,"label","click"],["pButton","","pRipple","","type","button",3,"label","click"]],template:function(i,n){1&i&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"span",3),t._UZ(4,"p-dropdown",4),t.TgZ(5,"label",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,X,4,3,"ng-container",6),t.qZA(),t.TgZ(9,"span",7),t._UZ(10,"p-dropdown",8),t.TgZ(11,"label",9),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.YNc(14,W,4,3,"ng-container",6),t.qZA(),t.TgZ(15,"div",10)(16,"p-fieldset",11),t.ALo(17,"translate"),t.TgZ(18,"div",12)(19,"div",13),t._UZ(20,"input",14),t.TgZ(21,"label",15),t._uU(22),t.ALo(23,"translate"),t.qZA()(),t.TgZ(24,"div",16),t._UZ(25,"input",17),t.TgZ(26,"label",18),t._uU(27),t.ALo(28,"translate"),t.qZA()(),t.TgZ(29,"div",19),t._UZ(30,"input",20),t.TgZ(31,"label",21),t._uU(32),t.ALo(33,"translate"),t.qZA()(),t.TgZ(34,"div",22),t._UZ(35,"input",23),t.TgZ(36,"label",24),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.TgZ(39,"small",25),t._uU(40),t.ALo(41,"translate"),t.qZA()()()()()(),t.TgZ(42,"div",26),t.YNc(43,tt,3,3,"small",27),t.TgZ(44,"app-local-unit-search",28,29),t.NdJ("onReload",function(){return n.reloadLocalUnit()}),t.qZA()()(),t._UZ(46,"hr"),t.TgZ(47,"div",30)(48,"button",31),t.NdJ("click",function(){return n.dialogRef.close()}),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"button",32),t.NdJ("click",function(){return n.onContinue()}),t.ALo(51,"translate"),t.qZA()()()),2&i&&(t.Q6J("formGroup",n.form),t.xp6(4),t.ekj("ng-invalid",n.submitted&&n.form.get("THANHPHAN_ID").invalid)("ng-dirty",n.submitted&&n.form.get("THANHPHAN_ID").invalid),t.Q6J("options",n.ingredients)("autoDisplayFirst",!0),t.xp6(2),t.Oqu(t.lcZ(7,26,"LABEL.INGREDIENT_NAME")),t.xp6(2),t.Q6J("ngIf",n.submitted&&n.form.get("THANHPHAN_ID").invalid),t.xp6(2),t.ekj("ng-invalid",n.submitted&&n.form.get("DUAN_ID").invalid)("ng-dirty",n.submitted&&n.form.get("DUAN_ID").invalid),t.Q6J("options",n.projects)("autoDisplayFirst",!0),t.xp6(2),t.Oqu(t.lcZ(13,28,"LABEL.PROJECT_NAME")),t.xp6(2),t.Q6J("ngIf",n.submitted&&n.form.get("DUAN_ID").invalid),t.xp6(2),t.Q6J("legend",t.lcZ(17,30,"LABEL.SELECT_LENDING_INFO")),t.xp6(6),t.Oqu(t.lcZ(23,32,"LABEL.TITLE")),t.xp6(5),t.Oqu(t.lcZ(28,34,"LABEL.NUMBER_OF_LENDING")),t.xp6(5),t.Oqu(t.lcZ(33,36,"LABEL.NUMBER_OF_INSTALLMENTS")),t.xp6(5),t.Oqu(t.lcZ(38,38,"LABEL.LENDING_PREV")),t.xp6(3),t.Oqu(t.lcZ(41,40,"WARNING.LENDING_PREV")),t.xp6(3),t.Q6J("ngIf",n.submitted&&!n.localUnit),t.xp6(5),t.Q6J("label",t.lcZ(49,42,"BUTTON.CANCEL")),t.xp6(2),t.Q6J("label",t.lcZ(51,44,"BUTTON.CONTINUE")))},dependencies:[_.j,_.o,x.A,T.hJ,T.Hq,o.u5,o._Y,o.Fj,o.JJ,o.JL,o.UX,o.sg,o.u,Z.T,Z.H,r.O5,v.kW,v.Lt,h.aw,h.X$,N.L,N.p,G],encapsulation:2})}return a})();var R=l(3904),M=l(8608),S=l(8454),O=l(2947);function nt(a,d){if(1&a){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"span",12),t._UZ(4,"i",13),t.TgZ(5,"input",14),t.NdJ("keyup.enter",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.initData())})("ngModelChange",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.requestParams.search=n)}),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"h2",15),t._uU(8),t.ALo(9,"translate"),t.qZA()()(),t.TgZ(10,"div",16)(11,"p-button",17),t.NdJ("onClick",function(n){t.CHM(e);const s=t.MAs(14);return t.KtG(s.toggle(n))}),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"p-overlayPanel",18,19)(15,"span",20)(16,"p-dropdown",21),t.NdJ("ngModelChange",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.requestParams.nguoiQuanLyId=n)})("ngModelChange",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.initListBasicLending())}),t.qZA(),t.TgZ(17,"label",22),t._uU(18),t.ALo(19,"translate"),t.qZA()()(),t.TgZ(20,"button",23),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onManage())}),t.qZA()()()}if(2&a){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.requestParams.search)("placeholder",t.lcZ(6,9,"LABEL.SEARCH_TEXT")),t.xp6(3),t.Oqu(t.lcZ(9,11,"LABEL.BASIC_LENDING_LIST")),t.xp6(3),t.Q6J("label",t.lcZ(12,13,"BUTTON.FILTER")),t.xp6(2),t.Q6J("dismissable",!1),t.xp6(3),t.Q6J("options",e.managers)("autoDisplayFirst",!0)("ngModel",e.requestParams.nguoiQuanLyId),t.xp6(2),t.Oqu(t.lcZ(19,15,"LABEL.MANAGER"))}}function it(a,d){1&a&&(t.TgZ(0,"tr")(1,"th",24),t._uU(2,"ID"),t.qZA(),t.TgZ(3,"th",25),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"th",26),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th",27),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"th",28),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th",26),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"th",29),t._uU(19),t.ALo(20,"translate"),t.qZA()()),2&a&&(t.xp6(4),t.hij(" ",t.lcZ(5,6,"LABEL.LENDING_DATE")," "),t.xp6(3),t.hij(" ",t.lcZ(8,8,"LABEL.MANAGER")," "),t.xp6(3),t.hij(" ",t.lcZ(11,10,"LABEL.TITLE")," "),t.xp6(3),t.hij(" ",t.lcZ(14,12,"LABEL.STATUS")," "),t.xp6(3),t.hij(" ",t.lcZ(17,14,"LABEL.PROJECT_NAME")," "),t.xp6(3),t.hij(" ",t.lcZ(20,16,"LABEL.ACTION")," "))}function at(a,d){if(1&a){const e=t.EpF();t.TgZ(0,"tr")(1,"td",30),t._uU(2),t.qZA(),t.TgZ(3,"td",25),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",26),t._uU(7),t.qZA(),t.TgZ(8,"td",27),t._uU(9),t.qZA(),t.TgZ(10,"td",28),t._UZ(11,"p-badge",31),t.qZA(),t.TgZ(12,"td",26),t._uU(13),t.qZA(),t.TgZ(14,"td",32)(15,"div",10)(16,"button",33),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onManage())}),t.qZA(),t.TgZ(17,"button",34),t.NdJ("click",function(){const s=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onDelete(s))}),t.qZA()()()()}if(2&a){const e=d.rowIndex,i=d.$implicit,n=t.oxw();t.xp6(2),t.hij(" ",e+1," "),t.xp6(2),t.Oqu(t.xi3(5,7,null==i?null:i.ngay,n.appConstant.FORMAT_DATE.VN_DATE_PIPE_SHORT_DATE)),t.xp6(3),t.Oqu(null==i?null:i.tenNguoiQuanLy),t.xp6(2),t.Oqu(null==i?null:i.tieuDe),t.xp6(2),t.Q6J("severity",null!=i&&i.isTemp?"warning":"success")("value",null!=i&&i.isTemp?"T\u1ea1m th\u1eddi":"\u0110\u1ee3t vay ch\xednh"),t.xp6(2),t.Oqu(null==i?null:i.tenDuAn)}}let ot=(()=>{class a{constructor(e,i,n,s,m){this.baseService$=e,this.confirmationService=i,this.translateService=n,this.dialogService=s,this.layoutService$=m,this.isMobile=!1,this.data=[],this.appConstant=U.Z,this.unsubscribe=new c.x,this.managers=[],this.first=0,this.rows=10,this.requestParams={search:"",nguoiQuanLyId:0,pageSize:10,page:0,sorting:[]},this.totalRecords=0}ngOnInit(){this.isMobile=this.layoutService$.isMobile(),this.initData()}onPageChange(e){this.first=e.first,this.rows=e.rows,this.requestParams.page=this.first/this.rows,this.initData()}initData(){this.baseService$.listManager().pipe((0,A.R)(this.unsubscribe)).subscribe(e=>{this.managers=e,this.managers.forEach(i=>{i.title=`${i?.maSoQl} (${i?.hoTen})`}),this.managers=H.n.createDefaultOptionAll(this.managers,this.translateService),this.initListBasicLending()})}initListBasicLending(){this.layoutService$.globalLoading.next(!0),this.baseService$.paging(this.requestParams).pipe((0,A.R)(this.unsubscribe),(0,f.x)(()=>{this.layoutService$.globalLoading.next(!1)})).subscribe(e=>{e?(this.data=e.data,this.totalRecords=e?.pagingInfo?.totalRecords):this.data=[]})}onManage(){this.dialogService.open(et,{header:this.translateService.instant("LABEL.INGREDIENT_LOCAL_UNIT_LIST"),width:"90vw",maximizable:!0})}onDelete(e){this.confirmationService.confirm({message:this.translateService.instant("INFO.ARE_YOUR_SURE_DELETE_RECORD"),header:this.translateService.instant("LABEL.CONFIRM"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translateService.instant("BUTTON.ACCEPT"),rejectLabel:this.translateService.instant("BUTTON.CANCEL"),accept:()=>this.doDelete(e)})}doDelete(e){this.baseService$.delete(e.id).pipe((0,A.R)(this.unsubscribe)).subscribe({next:i=>{i&&this.initData()}})}ngOnDestroy(){this.unsubscribe.next({}),this.unsubscribe.complete()}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(E),t.Y36(g.YP),t.Y36(h.sK),t.Y36(u.xA),t.Y36(B.P))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["ng-component"]],features:[t._Bn([g.ez,g.YP,E,u.xA])],decls:10,vars:9,consts:[[1,"grid"],[1,"col-12","p-0"],[1,"card"],[3,"value","scrollable","responsiveLayout"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-end","align-items-center"],["currentPageReportTemplate","{first} - {last} / {totalRecords}",3,"first","rows","totalRecords","showCurrentPageReport","showPageLinks","showJumpToPageDropdown","onPageChange"],[1,"flex","justify-content-between"],[1,"flex","gap-2"],[1,"flex","align-items-center","gap-4"],[1,"p-input-icon-left","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full",3,"ngModel","placeholder","keyup.enter","ngModelChange"],[1,"m-0"],[1,"flex","align-items-center","gap-2"],["icon","pi pi-filter",3,"label","onClick"],[3,"dismissable"],["op",""],[1,"p-float-label"],["id","filterManager","optionLabel","title","optionValue","id","appendTo","body",3,"options","autoDisplayFirst","ngModel","ngModelChange"],["for","filterManager"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-rounded","p-button-success",3,"click"],["pFrozenColumn","",2,"width","50px"],[2,"width","180px"],[2,"width","400px"],[2,"width","200px"],[2,"width","300px"],["pFrozenColumn","","alignFrozen","right",2,"width","100px"],["pFrozenColumn","",1,"font-bold",2,"width","50px"],[3,"severity","value"],["pFrozenColumn","","alignFrozen","right",1,"font-bold",2,"width","100px"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-warning",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p-table",3),t.YNc(4,nt,21,17,"ng-template",4)(5,it,21,18,"ng-template",5)(6,at,18,10,"ng-template",6),t.qZA(),t.TgZ(7,"div",7)(8,"p-paginator",8),t.NdJ("onPageChange",function(m){return n.onPageChange(m)}),t.qZA()()()()(),t._UZ(9,"p-confirmDialog")),2&i&&(t.xp6(3),t.Q6J("value",n.data)("scrollable",!0)("responsiveLayout",n.isMobile?"stack":"scroll"),t.xp6(5),t.Q6J("first",n.first)("rows",n.rows)("totalRecords",n.totalRecords)("showCurrentPageReport",!0)("showPageLinks",!1)("showJumpToPageDropdown",!1))},dependencies:[o.Fj,o.JJ,o.On,C.iA,g.jx,C.on,T.Hq,T.zx,_.o,Z.H,v.Lt,R.Q,M.Ct,S.T,O.D,r.uU,h.X$],encapsulation:2})}return a})(),lt=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[b.Bz.forChild([{path:"",component:ot}]),b.Bz]})}return a})();var st=l(6804),rt=l(4055),pt=l(6651),ct=l(4104),ut=l(7902),dt=l(6022);let gt=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[r.ez,lt,o.u5,C.U$,dt.Xt,T.hJ,ut.JH,_.j,st.KZ,Z.T,rt.q4,v.kW,pt.q,ct.EV,R.D,h.aw,M.TX,o.UX,S.y,O.U]})}return a})()},1604:(I,L,l)=>{l.d(L,{V:()=>g});var r=l(6814),o=l(8109),b=l(4713);let g=(()=>{class c extends b.s{static \u0275fac=(()=>{let f;return function(p){return(f||(f=o.n5z(c)))(p||c)}})();static \u0275cmp=o.Xpm({type:c,selectors:[["MinusIcon"]],standalone:!0,features:[o.qOj,o.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(u,p){1&u&&(o.O4$(),o.TgZ(0,"svg",0),o._UZ(1,"path",1),o.qZA()),2&u&&(o.Tol(p.getClassNames()),o.uIk("aria-label",p.ariaLabel)("aria-hidden",p.ariaHidden)("role",p.role))},dependencies:[r.ez],encapsulation:2})}return c})()},3983:(I,L,l)=>{l.d(L,{p:()=>g});var r=l(8109),o=l(4713),b=l(2332);let g=(()=>{class c extends o.s{pathId;ngOnInit(){this.pathId="url(#"+(0,b.Th)()+")"}static \u0275fac=(()=>{let f;return function(p){return(f||(f=r.n5z(c)))(p||c)}})();static \u0275cmp=r.Xpm({type:c,selectors:[["PlusIcon"]],standalone:!0,features:[r.qOj,r.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(u,p){1&u&&(r.O4$(),r.TgZ(0,"svg",0)(1,"g"),r._UZ(2,"path",1),r.qZA(),r.TgZ(3,"defs")(4,"clipPath",2),r._UZ(5,"rect",3),r.qZA()()()),2&u&&(r.Tol(p.getClassNames()),r.uIk("aria-label",p.ariaLabel)("aria-hidden",p.ariaHidden)("role",p.role),r.xp6(1),r.uIk("clip-path",p.pathId),r.xp6(3),r.Q6J("id",p.pathId))},encapsulation:2})}return c})()}}]);