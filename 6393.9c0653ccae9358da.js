"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[6393],{6393:(O,C,i)=>{i.r(C),i.d(C,{LocalModule:()=>Y});var m=i(6814),e=i(6223),A=i(9241),h=i(5219),L=i(8645),b=i(9773),Z=i(4716),f=i(5118),t=i(8109),v=i(3714),_=i(6218),s=i(707),g=i(4480),r=i(3999),c=i(5399),p=i(4553);function D(o,T){1&o&&(t.ynx(0),t.TgZ(1,"small",12),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&o&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"WARNING.LOCAL_CODE_REQUIRED")," "))}function x(o,T){1&o&&(t.ynx(0),t.TgZ(1,"small",12),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&o&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"WARNING.LOCAL_NAME_REQUIRED")," "))}let B=(()=>{class o{constructor(n,l,a){this.fb=n,this.dialogRef=l,this.baseService$=a,this.config=(0,t.f3M)(f.S),this.submitted=!1,this.unsubscribe=new L.x,this._baseData=this.config.data,this.form=this.fb.group({maDiaPhuong:new e.NI("",[e.kI.required,e.kI.pattern(c.Z.PATTERNS.NO_SPACE_AND_UNICODE_UTF8)]),tenDiaPhuong:new e.NI("",[e.kI.required])})}ngOnInit(){["edit","info"].includes(this._baseData.mode)&&this.form.patchValue({maDiaPhuong:this._baseData.data.maDiaPhuong,tenDiaPhuong:this._baseData.data.tenDiaPhuong})}onSubmit(){this.submitted=!0,!this.form.invalid&&("add"===this._baseData.mode?this.baseService$.add(this.form.value):this.baseService$.edit(this.form.value,this._baseData.data.id)).pipe((0,b.R)(this.unsubscribe)).subscribe({next:n=>{n?.errorCode||this.dialogRef.close({isSuccess:!0})}})}static#t=this.\u0275fac=function(l){return new(l||o)(t.Y36(e.qu),t.Y36(f.E7),t.Y36(p.C))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-local-unit-form"]],standalone:!0,features:[t.jDz],decls:20,vars:23,consts:[[3,"formGroup"],[1,"p-fluid","p-formgrid","grid","m-0"],[1,"p-float-label","field","col-12","pr-1"],["pInputText","","id","code","formControlName","maDiaPhuong","type","text"],["for","code",1,"require-label"],[4,"ngIf"],[1,"p-float-label","field","col-12","pl-1"],["pInputText","","id","name","formControlName","tenDiaPhuong","type","text"],["for","name",1,"require-label"],[1,"flex","justify-content-end","gap-2"],["pButton","","pRipple","","type","button",1,"p-button-outlined",3,"label","click"],["pButton","","pRipple","","type","button",3,"label","click"],[1,"p-error"]],template:function(l,a){1&l&&(t.TgZ(0,"form",0)(1,"div",1)(2,"span",2),t._UZ(3,"input",3),t.TgZ(4,"label",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,D,4,3,"ng-container",5),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.TgZ(10,"label",8),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.YNc(13,x,4,3,"ng-container",5),t.qZA()(),t._UZ(14,"hr"),t.TgZ(15,"div",9)(16,"button",10),t.NdJ("click",function(){return a.dialogRef.close()}),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"button",11),t.NdJ("click",function(){return a.onSubmit()}),t.ALo(19,"translate"),t.qZA()()()),2&l&&(t.Q6J("formGroup",a.form),t.xp6(3),t.ekj("ng-invalid",a.submitted&&a.form.get("maDiaPhuong").invalid)("ng-dirty",a.submitted&&a.form.get("maDiaPhuong").invalid),t.xp6(2),t.Oqu(t.lcZ(6,15,"LABEL.LOCAL_CODE")),t.xp6(2),t.Q6J("ngIf",a.submitted&&a.form.get("maDiaPhuong").invalid),t.xp6(2),t.ekj("ng-invalid",a.submitted&&a.form.get("tenDiaPhuong").invalid)("ng-dirty",a.submitted&&a.form.get("tenDiaPhuong").invalid),t.xp6(2),t.Oqu(t.lcZ(12,17,"LABEL.LOCAL_NAME")),t.xp6(2),t.Q6J("ngIf",a.submitted&&a.form.get("tenDiaPhuong").invalid),t.xp6(3),t.Q6J("label",t.lcZ(17,19,"BUTTON.CANCEL")),t.xp6(2),t.Q6J("label",t.lcZ(19,21,"BUTTON.SAVE")))},dependencies:[v.j,v.o,_.A,s.hJ,s.Hq,e.u5,e._Y,e.Fj,e.JJ,e.JL,e.UX,e.sg,e.u,g.T,g.H,m.O5,r.aw,r.X$],encapsulation:2})}return o})();var I=i(3859),y=i(9552),P=i(3904),E=i(2947);function R(o,T){if(1&o){const n=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"span",12),t._UZ(3,"i",13),t.TgZ(4,"input",14),t.NdJ("ngModelChange",function(a){t.CHM(n);const u=t.oxw();return t.KtG(u.requestParams.search=a)})("keyup.enter",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.initData())}),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"h2",15),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"button",16),t.NdJ("click",function(){t.CHM(n);const a=t.oxw();return t.KtG(a.onManage("add","LABEL.ADD"))}),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(4),t.Q6J("ngModel",n.requestParams.search)("placeholder",t.lcZ(5,3,"LABEL.SEARCH_TEXT")),t.xp6(3),t.Oqu(t.lcZ(8,5,"LABEL.LOCAL_LIST"))}}function S(o,T){1&o&&(t.TgZ(0,"tr")(1,"th",17),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",18),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"th",19),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"th",20),t._uU(11),t.ALo(12,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.hij(" ",t.lcZ(3,4,"LABEL.ID")," "),t.xp6(3),t.hij(" ",t.lcZ(6,6,"LABEL.LOCAL_CODE")," "),t.xp6(3),t.hij(" ",t.lcZ(9,8,"LABEL.LOCAL_NAME")," "),t.xp6(3),t.hij(" ",t.lcZ(12,10,"LABEL.ACTION")," "))}function U(o,T){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td",21),t._uU(2),t.qZA(),t.TgZ(3,"td",18),t._uU(4),t.qZA(),t.TgZ(5,"td",19),t._uU(6),t.qZA(),t.TgZ(7,"td",22)(8,"div",23)(9,"button",24),t.NdJ("click",function(){const u=t.CHM(n).$implicit,d=t.oxw();return t.KtG(d.onManage("edit","LABEL.EDIT",u))}),t.qZA(),t.TgZ(10,"button",25),t.NdJ("click",function(){const u=t.CHM(n).$implicit,d=t.oxw();return t.KtG(d.onDelete(u))}),t.qZA()()()()}if(2&o){const n=T.$implicit;t.xp6(2),t.hij(" ",n.id," "),t.xp6(2),t.Oqu(n.maDiaPhuong),t.xp6(2),t.Oqu(n.tenDiaPhuong)}}let M=(()=>{class o{constructor(n,l,a,u,d){this.confirmationService=n,this.translateService=l,this.dialogService=a,this.baseService$=u,this.layoutService$=d,this.isMobile=!1,this.data=[],this.first=0,this.rows=10,this.requestParams={search:"",pageSize:10,page:0,sorting:[{fieldName:"TenDiaPhuong",direction:"DESC"}]},this.totalRecords=0,this.unsubscribe=new L.x}ngOnInit(){this.isMobile=this.layoutService$.isMobile(),this.initData()}onPageChange(n){this.first=n.first,this.rows=n.rows,this.requestParams.page=this.first/this.rows,this.initData()}initData(){this.layoutService$.globalLoading.next(!0),this.baseService$.paging(this.requestParams).pipe((0,b.R)(this.unsubscribe),(0,Z.x)(()=>{this.layoutService$.globalLoading.next(!1)})).subscribe(n=>{n?(this.data=n.data,this.totalRecords=n?.pagingInfo?.totalRecords):this.data=[]})}onManage(n,l,a){this.dialogService.open(B,{data:{mode:n,data:a},header:this.translateService.instant(l),width:"50vw",maximizable:!0}).onClose.subscribe(d=>{d?.isSuccess&&this.initData()})}onDelete(n){this.confirmationService.confirm({message:this.translateService.instant("INFO.ARE_YOUR_SURE_DELETE_RECORD"),header:this.translateService.instant("LABEL.CONFIRM"),icon:"pi pi-exclamation-triangle",acceptLabel:this.translateService.instant("BUTTON.ACCEPT"),rejectLabel:this.translateService.instant("BUTTON.CANCEL"),accept:()=>this.doDelete(n)})}doDelete(n){this.baseService$.delete(n.id).pipe((0,b.R)(this.unsubscribe)).subscribe({next:l=>{l&&this.initData()}})}ngOnDestroy(){this.unsubscribe.next({}),this.unsubscribe.complete()}static#t=this.\u0275fac=function(l){return new(l||o)(t.Y36(h.YP),t.Y36(r.sK),t.Y36(f.xA),t.Y36(p.C),t.Y36(I.P))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],features:[t._Bn([h.ez,h.YP,p.C,f.xA])],decls:11,vars:9,consts:[[1,"grid"],[1,"col-12","p-0"],[1,"card"],[3,"value","scrollable","responsiveLayout"],["localTable",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","justify-content-end","align-items-center"],["currentPageReportTemplate","{first} - {last} / {totalRecords}",3,"first","rows","totalRecords","showCurrentPageReport","showPageLinks","showJumpToPageDropdown","onPageChange"],[1,"flex","justify-content-between"],[1,"flex","align-items-center","gap-4"],[1,"p-input-icon-left","mb-2"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full",3,"ngModel","placeholder","ngModelChange","keyup.enter"],[1,"m-0"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-rounded","p-button-success",3,"click"],["pFrozenColumn","",2,"width","50px"],[2,"width","200px"],[2,"width","auto"],["pFrozenColumn","","alignFrozen","right",2,"width","100px"],["pFrozenColumn","",1,"font-bold",2,"width","50px"],["pFrozenColumn","","alignFrozen","right",1,"font-bold",2,"width","100px"],[1,"flex","gap-2"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-warning",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"]],template:function(l,a){1&l&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p-table",3,4),t.YNc(5,R,10,7,"ng-template",5)(6,S,13,12,"ng-template",6)(7,U,11,3,"ng-template",7),t.qZA(),t.TgZ(8,"div",8)(9,"p-paginator",9),t.NdJ("onPageChange",function(d){return a.onPageChange(d)}),t.qZA()()()()(),t._UZ(10,"p-confirmDialog")),2&l&&(t.xp6(3),t.Q6J("value",a.data)("scrollable",!0)("responsiveLayout",a.isMobile?"stack":"scroll"),t.xp6(6),t.Q6J("first",a.first)("rows",a.rows)("totalRecords",a.totalRecords)("showCurrentPageReport",!0)("showPageLinks",!1)("showJumpToPageDropdown",!1))},dependencies:[e.Fj,e.JJ,e.On,y.iA,h.jx,y.on,s.Hq,v.o,g.H,P.Q,E.D,r.X$],encapsulation:2})}return o})(),N=(()=>{class o{static#t=this.\u0275fac=function(l){return new(l||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[A.Bz.forChild([{path:"",component:M}]),A.Bz]})}return o})();var w=i(6804),J=i(4055),F=i(3965),j=i(6651),k=i(4104),Q=i(7902),z=i(6022);let Y=(()=>{class o{static#t=this.\u0275fac=function(l){return new(l||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[m.ez,N,e.u5,y.U$,z.Xt,s.hJ,Q.JH,v.j,w.KZ,g.T,J.q4,F.kW,j.q,k.EV,P.D,r.aw,E.U]})}return o})()},6651:(O,C,i)=>{i.d(C,{k:()=>v,q:()=>_});var m=i(6814),e=i(8109),A=i(5219);function h(s,g){if(1&s&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&s){const r=e.oxw(2);e.Udp("display",null!=r.value&&0!==r.value?"flex":"none"),e.uIk("data-pc-section","label"),e.xp6(1),e.AsE("",r.value,"",r.unit,"")}}function L(s,g){1&s&&e.GkF(0)}const b=s=>({$implicit:s});function Z(s,g){if(1&s&&(e.TgZ(0,"div",3)(1,"div",4),e.YNc(2,h,2,5,"div",5)(3,L,1,0,"ng-container",6),e.qZA()()),2&s){const r=e.oxw();e.Udp("width",r.value+"%")("background",r.color),e.uIk("data-pc-section","value"),e.xp6(2),e.Q6J("ngIf",r.showValue&&!r.contentTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",r.contentTemplate)("ngTemplateOutletContext",e.VKq(8,b,r.value))}}function f(s,g){if(1&s&&(e.TgZ(0,"div",7),e._UZ(1,"div",8),e.qZA()),2&s){const r=e.oxw();e.uIk("data-pc-section","container"),e.xp6(1),e.Udp("background",r.color),e.uIk("data-pc-section","value")}}const t=(s,g)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":s,"p-progressbar-indeterminate":g});let v=(()=>{class s{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(r=>{r.getType(),this.contentTemplate=r.template})}static \u0275fac=function(c){return new(c||s)};static \u0275cmp=e.Xpm({type:s,selectors:[["p-progressBar"]],contentQueries:function(c,p,D){if(1&c&&e.Suo(D,A.jx,4),2&c){let x;e.iGM(x=e.CRH())&&(p.templates=x)}},hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width","background",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],[1,"p-progressbar-label"],[3,"display",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(c,p){1&c&&(e.TgZ(0,"div",0),e.YNc(1,Z,4,10,"div",1)(2,f,2,4,"div",2),e.qZA()),2&c&&(e.Tol(p.styleClass),e.Q6J("ngStyle",p.style)("ngClass",e.WLB(11,t,"determinate"===p.mode,"indeterminate"===p.mode)),e.uIk("aria-valuemin",0)("aria-valuenow",p.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),e.xp6(1),e.Q6J("ngIf","determinate"===p.mode),e.xp6(1),e.Q6J("ngIf","indeterminate"===p.mode))},dependencies:[m.mk,m.O5,m.tP,m.PC],styles:['@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0})}return s})(),_=(()=>{class s{static \u0275fac=function(c){return new(c||s)};static \u0275mod=e.oAB({type:s});static \u0275inj=e.cJS({imports:[m.ez]})}return s})()}}]);